<div class="card">
  <p-table #dt1 [value]="transactions" selectionMode="single" dataKey="id" [tableStyle]="{'min-width': '50rem'}"

           stateStorage="session" stateKey="statedemo-session">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="debt.debtor.firstName" style="width:25%">Zleceniodawca <p-sortIcon field="debt.debtor.firstName"></p-sortIcon></th>
        <th pSortableColumn="amount" style="width:25%">kwota <p-sortIcon field="amount"></p-sortIcon></th>
        <th pSortableColumn="description" style="width:25%">Tytuł transakcji<p-sortIcon field="description"></p-sortIcon></th>
        <th pSortableColumn="balanceAfterTransaction" style="width:25%">Saldo po transakcji<p-sortIcon field="balanceAfterTransaction"></p-sortIcon></th>
        <th pSortableColumn="debt.description'" style="width:25%">dług <p-sortIcon field="debt.description'"></p-sortIcon></th>
        <th pSortableColumn="debt.status'" style="width:25%">status długu<p-sortIcon field="debt.status'"></p-sortIcon></th>
        <th pSortableColumn="paymentDate" style="width:25%">data wpłaty<p-sortIcon field="paymentDate"></p-sortIcon></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-transaction>
      <tr >
        <td>
          <span class="p-column-title">Wykonawca</span>
          {{transaction.debt.debtor.firstName}} {{transaction.debt.debtor.surname}}
        </td>
        <td>
          <span class="p-column-title">Kwota</span>
          <span class="image-text">{{transaction.amount}} PLN</span>
        </td>
        <td>
          <span class="p-column-title">Tytuł transakcji</span>
          <span class="image-text">{{transaction.description}}</span>
        </td>
        <td>
          <span class="p-column-title">Saldo długu po transakcji</span>
          <span class="image-text">{{transaction.balanceAfterTransaction}} na razie null</span>
        </td>
        <td>
          <span class="p-column-title">Dług</span>
          <span class="image-text">{{transaction.debt.description}}</span>
        </td>
        <td>
          <span class="p-column-title">Status długu</span>
          <span class="image-text">{{getDebtStatus(transaction.debt.status)}}</span>
        </td>
        <td>
          <span class="p-column-title">Data Transakcji</span>
          <span class="image-text">{{transaction.paymentDate | transformDateWithHour}}</span>
        </td>

      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="4">No transaction found.</td>
      </tr>
    </ng-template>
  </p-table>
      <div *ngIf="totalRecords >= 10" class="flex flex-row justify-content-center align-content-end">
  <p-paginator
    [rows]="rows"
    [totalRecords]="totalRecords"
    (onPageChange)="onPageChange($event)"
    [rowsPerPageOptions]="[10, 20, 30]"
  ></p-paginator>
      </div>
</div>
