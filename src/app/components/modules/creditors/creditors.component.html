<ng-template #loadingChart>
  <div class="custom-skeleton p-4">
    <div class="flex mb-3">
      <p-skeleton shape="circle" size="4rem" styleClass="mr-2"></p-skeleton>
      <div>
        <p-skeleton width="10rem" styleClass="mb-2"></p-skeleton>
        <p-skeleton width="5rem" styleClass="mb-2"></p-skeleton>
        <p-skeleton height=".5rem"></p-skeleton>
      </div>
    </div>
    <p-skeleton width="100%" height="150px"></p-skeleton>
    <div class="flex justify-content-between mt-3">
      <p-skeleton width="4rem" height="2rem"></p-skeleton>
      <p-skeleton width="4rem" height="2rem"></p-skeleton>
    </div>
  </div>
</ng-template>

<ng-container *ngIf="!isLoading; else loadingChart">
  <div class="min-h-full">
    <button pButton pRipple type="button"
            icon="pi pi-plus"
            label="Dodaj Wierzycielswto"
            class="p-button-outlined p-button-rounded p-button-success"
            (click)="display = true">
    </button>
    <div *ngIf="isMobileVisible" class="block md:hidden">
      <p-sidebar [(visible)]="display" position="right" [style]="{width:'100%'}"
                 [transitionOptions]="'300ms cubic-bezier(0, 0, 0.2, 1)'">
        <app-menage-debt></app-menage-debt>
      </p-sidebar>
    </div>
    <p-sidebar [(visible)]="display" position="right" [style]="{width:'70%',  maxWidth: '800px' }"
               [transitionOptions]="'300ms cubic-bezier(0, 0, 0.2, 1)'">
      <app-menage-debt></app-menage-debt>
    </p-sidebar>
    <div class="flex justify-content-center align-items-center flex-wrap gap-5 mt-4 pb-2">
      <app-debt-card
        *ngFor="let debt of debts; let index = index"
        [debt]="debt"
        [type]="'debtor'"
        [customerIndex]="index"
        (details)="goToDetailsCustomer($event)"
      ></app-debt-card>
    </div>
    <p-toast position="top-right" key="tr"></p-toast>
    <div *ngIf="totalRecords >= 5" class="flex flex-row justify-content-center align-content-end">
      <p-paginator
        [rows]="rows"
        [totalRecords]="totalRecords"
        (onPageChange)="onPageChange($event)"
        [rowsPerPageOptions]="[5, 10, 20]"
      ></p-paginator>
    </div>
  </div>


</ng-container>
